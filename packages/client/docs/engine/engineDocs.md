# Документация движка Flappy Bird

## Обзор
Canvas-движок для игры Flappy Bird с реализацией основных игровых механик

## Основные компоненты

### Конфигурация игры (GameConfig)
- **gravity**: Вертикальное ускорение (0.15)
- **jumpPower**: Скорость подъёма при прыжке (-4.5)
- **pipeSpeed**: Скорость горизонтального движения труб (2.0)
- **pipeGap**: Вертикальное расстояние между трубами (180px)
- **pipeWidth**: Ширина труб (80px)
- **pipeFrequency**: Количество кадров между созданием труб (150)
- **Визуальные свойства**: Цвета птицы, труб, фона, земли

### Состояние игры (GameState)
- **bird**: Управляемая игроком птица
- **pipes**: Массив активных труб на экране
- **score**: Текущий счёт
- **gameOver**: Флаг завершения игры
- **isRunning**: Флаг активности игрового цикла
- **frameCount**: Счётчик кадров

### Механики игры

#### Движение птицы
- Обновляется каждый кадр: `velocity += gravity`, `y += velocity`
- Прыжок: `velocity = jumpPower`
- Коллизии проверяются с трубами, верхом и низом экрана

#### Генерация труб
- Создаются с фиксированной частотой (pipeFrequency)
- Случайная высота верхней трубы
- Нижняя труба рассчитывается: `topHeight + pipeGap`
- Удаляются при выходе за левую границу экрана

#### Система счёта
- Очко начисляется когда птица полностью проходит трубу
- Счёт отображается в верхней части экрана

### Основные функции

#### createFlappyBirdEngine(canvas)
Инициализирует и возвращает игровой движок:
- Создаёт начальное состояние
- Настраивает игровой цикл
- Регистрирует обработчики событий

#### Методы движка (GameEngine)
- **jump()**: Выполняет прыжок птицы (пробел)
- **start()**: Запускает игровой цикл
- **reset()**: Сбрасывает игру в начальное состояние
- **getState()**: Возвращает текущее состояние
- **destroy()**: Останавливает игру и очищает ресурсы

### Игровой цикл
1. Обновление состояния птицы
2. Генерация новых труб
3. Обновление позиций труб
4. Проверка коллизий
5. Отрисовка всех элементов
6. Повтор через requestAnimationFrame

### Отрисовка (временная будем заменять нормальными картинками)

#### Птица
- Прямоугольное тело с цветом из конфигурации
- Чёрный глаз (правый верхний угол)
- Оранжевый клюв (треугольник справа)

#### Трубы
- Верхняя и нижняя части с основным цветом
- Тёмно-зелёные "шапки" на концах труб
- Движение слева направо

#### Интерфейс
- Счёт отображается по центру вверху
- Белый текст с чёрной обводкой
- Размер шрифта адаптируется под ширину canvas

### Управление
- **Пробел**: Прыжок / Старт игры
- Автоматический старт при инициализации
